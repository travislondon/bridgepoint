---

This work is licensed under the Creative Commons CC0 License

---

# Interface message parameter attributes not editable from properties view 
### xtUML Project Implementation Note


### 1. Abstract

Modelers are unable to edit values of an interface message parameter in the Properties
view.  This note describes the fix.

### 2. Document References

<a id="2.1"></a>2.1 [BridgePoint DEI #9575](https://support.onefact.net/issues/9575) Headline issue.  
<a id="2.2"></a>2.2 [BridgePoint SR #9691](https://support.onefact.net/issues/9691) Can't modify settings on interface message parameters    
<a id="2.3"></a>2.3 [BridgePoint DEI #8822](https://support.onefact.net/issues/8822) It is possible to change the name of a parameter in a message (operation/signal) in a port. This affects all ports using the interface.   
<a id="2.4"></a>2.4 [BridgePoint DEI #9245](https://support.onefact.net/issues/9245) Renames, type assignments, return types, etc. should only be assignable in the Interface and not in the Interface Reference (port) of the “implemented interface” (on the component)     

### 3. Background

A prior issue [[2.3]](#2.3) restricted the user's ability to modify message parameter
attributes when dealing with an interface reference.  The idea is to allow changes only 
in the interface definition itself.  

The prior code for the Properties view simply made all attributes of a Property Parameter (C_PP)
readonly, not taking into account whether the user was editing the interface definition or an
interface reference.  

### 4. Requirements

4.1 Attributes of property parameters shall be editable in the properties view when editing an
  interface definition.  
4.2 Attributes of property parameters shall still __not__ be editable in the properties view when 
  editing an interface reference.  
    
### 5. Work Required

5.1 The code that controls the Properties view for C_PP instances is in the generated file 
  `ParametersC_PPPropertySource.java`.  This is generated by the archetype `BuildPropertySource.arc`.    
5.1.1 Update the `simple_attr_descriptions` function by updating the special case for C_PP to be
  more robust.  
5.1.2 Leverage the existing `readonly = Util_c.Isprovidedparameter();` flag that is 
  already in place.  If `readonly` is true, use the same codepath that exists today.  If 
  `readonly` is false, create editable property descriptors.  
  
### 6. Implementation Comments

None.  

### 7. Unit Test

7.1 UI Properties JUnit suite must pass.  
  
7.2 Diff test for limited change
* Generate the `org.xtuml.bp.ui.properties` plug-in without the fix.  
* Save off the directory `git/bridgepoint/src/org.xtuml.bp.ui.properties/src/org/xtuml/bp/ui/properties`
* Put the fixed archetype in place
* Generate the plug-in again
* diff (or meld) the new and saved directories to compare files.
* __RESULT__ The `ParametersC_PPPropertySource.java` files is the only one with meaningful differences. 

7.3 Run updated manual test
  Test [2.4] is updated with test #2 to verify the new functionality.  Run the test and verify success.  
  
### 8. User Documentation

None.  

### 9. Code Changes

Fork/Repository: keithbrown/bridgepoint    
Branch: 9575_interface_param_edit  

<pre>
src/org.xtuml.bp.ui.properties/arc/BuildPropertySource.arc
doc-bridgepoint/notes/9575_interface_param_int.md
</pre>

### End

